@model SampleProject.ViewModels.Editor.IndexViewModel
           
@{
    ViewBag.Title = "Index";
}
<script src="../../Scripts/Lib/jQuery/jquery-1.7.1.js" type="text/javascript"></script>
<script src="../../Scripts/json2.js" type="text/javascript"></script>
<script>
    window.config =
        {
            apiKey : "@Model.ApiKey",
            blueprintId : @Model.BlueprintId
        };
</script>

<script type="text/javascript">

    var testitem = {
      Test: 'test',
      Message: 'message',
      TempList: [ 10, 20]
    };

    $(document).ready(function () {

        $.ajaxSetup({ headers: { 'apiKey': config.apiKey } });

        $("#test").click(function () {
            $.ajax({
                url: '@Url.Action("Index")',
                type: 'POST',
                dataType: 'json',
                data: JSON.stringify(testitem),
                //headers: { 'apiKey' : config.apiKey },
                contentType: 'application/json; charset=utf-8',
                success: function (data) {
                    // get the result and do some magic with it
                    var message = data.Message;
                    alert("message");
                }
            });
        });
    });

</script>
<h2>
    Index</h2>
<input id="test" type="button" value="Test" />
